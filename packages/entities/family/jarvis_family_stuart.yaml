---
sensor:
- platform: mqtt
  name: family_stuart_state
  state_topic: "tracker/family/stuart/state"

- platform: mqtt
  name: family_stuart_state_human
  state_topic: "tracker/family/stuart/state/human"

- platform: mqtt
  name: family_stuart_loc_room
  state_topic: "tracker/family/stuart/room"
  value_template: '{{ value_json.loc }}'
  json_attributes:
    - prob
    - seen

- platform: mqtt
  name: family_stuart_locality
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.locality }}"

- platform: mqtt
  name: family_stuart_battery_phone
  state_topic: "tracker/family/stuart/phone/location"
  unit_of_measurement: '%'
  value_template: "{{ value_json.batt }}"

- platform: mqtt
  name: family_stuart_drive_ignition
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.ignition }}"

- platform: mqtt
  name: family_stuart_drive_speed
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.vel }}"

- platform: mqtt
  name: family_stuart_drive_dest
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.dest }}"

- platform: mqtt
  name: family_stuart_drive_eta
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.eta }}"

- platform: mqtt
  name: family_stuart_drive_out
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.out }}"

- platform: mqtt
  name: family_stuart_drive_dist
  state_topic: "tracker/family/stuart/phone/location"
  value_template: "{{ value_json.dist }}"

- platform: template
  sensors:
    stuart_s_jabra_elite_65t:
      value_template: '{{ states.media_player.stuart_s_jabra_elite_65t.state|default(off)|string }}'

input_select:
  stuart:
    options:
      - Home            # 4
      - Away            # 0
      - Extended Away   # 1
      - Just Left       # 2
      - Just Arrived    # 3

  family_stuart_drive_dest_home:
    name: Driving Home
    options:
      - Idle
      - On The Way
      - Arriving Soon
      - Almost There
      - Arriving

homeassistant:
  customize:
    sensor.family_stuart_battery_phone:
      friendly_name: Stuart's Battery
      icon: mdi:battery

    sensor.family_stuart_drive_ignition:
      friendly_name: Stuart's Ignition
      icon: mdi:car

    sensor.family_stuart_drive_dest:
      friendly_name: Stuart's Destination
      icon: mdi:google-maps

    sensor.family_stuart_drive_eta:
      friendly_name: Stuart's ETA
      icon: mdi:timetable

    sensor.family_stuart_drive_out:
      friendly_name: Stuart's Minutes Out
      icon: mdi:timer

    sensor.family_stuart_drive_dist:
      friendly_name: Stuart's Distance
      icon: mdi:map-marker-distance

    sensor.family_stuart_state:
      friendly_name: "Stuart's State"

    sensor.family_stuart_state_human:
      friendly_name: "Stuart's State"

    sensor.family_stuart_loc_room:
      friendly_name: "Stuart's Room Location"
      icon: mdi:google-classroom

    sensor.pixel_2_xlpixel_2_xl_a2dp_sensor:
      friendly_name: A2DP

    sensor.pixel_2_xlpixel_2_xl_call_state_sensor:
      friendly_name: Call State
      icon: mdi:phone-hangup

    sensor.pixel_2_xlpixel_2_xl_hfp_sensor:
      friendly_name: HFP

    sensor.pixel_2_xlpixel_2_xl_pressure_sensor:
      friendly_name: Pressure
      icon: mdi:thermometer

    sensor.pixel_2_xlpixel_2_xl_wifi_sensor:
      friendly_name: WiFi
      icon: mdi:wifi