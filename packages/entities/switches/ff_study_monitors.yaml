---
sensor:
- platform: mqtt
  name: ff_study_monitors_power
  state_topic: "zwave/20/50/1/8"
  device_class: power

- platform: mqtt
  name: ff_study_monitors_colour
  state_topic: "zwave/20/51/1/0"
  
- platform: template
  sensors:
    ff_study_monitors_last_week:
      value_template: "{{ states.sensor.weekly_ff_study_monitors.attributes.last_period }}"
      friendly_name: 'Last Week'
      
    ff_study_monitors_last_month:
      value_template: "{{ states.sensor.monthly_ff_study_monitors.attributes.last_period }}"
      friendly_name: 'Last Month'
      
    ff_study_monitors_cost:
      entity_id: sensor.monthly_ff_study_monitors
      friendly_name: 'Monitor Cost'
      value_template: >-
        {% if (states.sensor.monthly_ff_study_monitors.state|float > 0) %}
          £{{ (states.sensor.monthly_ff_study_monitors.state|float * 0.000242)|round(2) }}
        {% elif (states.sensor.monthly_ff_study_monitors.state|float == 0) %}
          £{{ (states.sensor.monthly_ff_study_monitors.state|float * 0.000242)|round(2) }}
        {% endif %}

switch:
- platform: mqtt
  name: ff_study_monitors
  icon: mdi:monitor-dashboard
  state_topic: "zwave/20/37/1/0"
  command_topic: "zwave/20/37/1/0/set"
  payload_on: "true"
  payload_off: "false"
  state_on: "true"
  state_off: "false"
  optimistic: false
  qos: 0
  retain: true

utility_meter:
  weekly_ff_study_monitors:
    source: sensor.ff_study_monitors_power
    cycle: weekly
    
  monthly_ff_study_monitors:
    source: sensor.ff_study_monitors_power
    cycle: monthly

homeassistant:
  customize:
    switch.ff_study_monitors:
      friendly_name: Monitors
      
    sensor.ff_study_monitors_colour:
      friendly_name: Monitors Colour
      
    sensor.ff_study_monitors_power:
      friendly_name: Monitors Watts
      
    sensor.monthly_ff_study_monitors:
      friendly_name: Monitor Monthly Useage
      icon: mdi:chart-line-variant
      
    sensor.weekly_ff_study_monitors:
      friendly_name: Monitor Weekly Useage
      icon: mdi:chart-multiline
      
    sensor.ff_study_monitors_cost:
      friendly_name: Monitor Cost
      icon: mdi:chart-areaspline
      