---
id: dashboard
title: Dashboard
icon: mdi:home-assistant
cards:
  - !include ../cards/compact_custom_header_main.yaml

  #####################
  # Home - Clock Card #
  #####################
  - type: vertical-stack
    cards:
      - type: 'custom:clock-card'

      - type: entity-filter
        entities:
          - person.stuart
          - person.kareen
          - person.john
          - person.maureen
          - person.allan
          - person.colin
          - person.irene
          - person.kayleigh
          - person.kev
          - person.khristen
          - person.mecha
          - person.scott
          - person.steve
        state_filter:
          - home
        card:
          type: glance
          title: People at home
        
      # - type: glance
      #   show_header_toggle: false
      #   entities:
      #     - person.stuart
      #     - person.kareen
      #     - person.john
      #     - person.maureen
      #     - person.allan
      #     - person.colin
      #     - person.irene
      #     - person.kayleigh
      #     - person.kev
      #     - person.khristen
      #     - person.mecha
      #     - person.scott
      #     - person.steve
        
  - type: entities
    show_header_toggle: false
    entities:
      - sensor.hallway_nest_protect_smoke_status
      - sensor.kitchen_nest_protect_smoke_status
      - sensor.landing_nest_protect_smoke_status
      - type: section
      #- binary_sensor.gf_hallway_contact_sensor
      - binary_sensor.gf_dinning_contact_side
      - type: section
      - sensor.light_scene
      - input_select.light_scene

  #################################################################
  #                                                               #
  #                     Home - Presence Card                      #
  #                                                               #
  ################################################################# 

  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        entities:
          - type: 'custom:text-divider-row'
            text: Family
          - sensor.family_family_state
          - sensor.family_family_state_raw
          - sensor.house_scene
          - type: section
          - input_select.family_family_act_bedtime
          
      - type: horizontal-stack
        cards:
          - type: entities
            show_header_toggle: false
            entities:
              - person.stuart
              - type: section
              - sensor.family_stuart_state_human
              - entity: sensor.family_stuart_loc_room
                name: Room
              - type: section
              - input_select.stuart
              - type: section
              - entity: sensor.family_stuart_battery_phone
                name: Battery
              
          - type: entities
            show_header_toggle: false
            entities:
              - person.kareen
              - type: section
              - sensor.family_kareen_state_human
              - entity: sensor.family_kareen_loc_room
                name: Room
              - type: section
              - input_select.kareen
              - type: section
              - entity: sensor.family_kareen_battery_phone
                name: Battery
      
      - type: horizontal-stack
        cards:
          - type: glance
            entities:
              - device_tracker.tile_964004c0e14c4228
              - device_tracker.tile_c4f2161059284831
              - device_tracker.tile_19063e4f07561dcf
              - device_tracker.tile_353e0f954ad1a9af
              
  # - type: entities
  #   show_header_toggle: false
  #   entities:
  #     - sensor.next_bus_to_6500n0200
  #     - sensor.next_bus_to_6500n0468
  #     - sensor.next_bus_to_6500k9922

  # #################################################################
  # #                                                               #
  # #                     Home - Next Bus Card                      #
  # #                                                               #
  # #################################################################

  # - type: entities
  #   show_header_toggle: false
  #   entities:
  #     - type: 'custom:text-divider-row'
  #       text: Next Bus
  #     - entity: sensor.next_bus_to_st_andrews_madras_college
  #       name: 'To Town'
  #     - type: section
  #     - entity: sensor.next_bus_to_letham_village_centre
  #       name: 'Home'

  #################################################################
  #                                                               #
  #                   Home - Waze Travel Card                     #
  #                                                               #
  ################################################################# 

  - type: entities
    show_header_toggle: false
    entities:
      - type: 'custom:text-divider-row'
        text: Travel
      - entity: sensor.commute_stuart_home
        name: Stuart Home
        icon: mdi:home-account
      - entity: sensor.commute_stuart_work
        name: Work
        icon: mdi:cash-usd
      - type: divider
      - entity: sensor.commute_kareen_home
        name: Kareen Home
        icon: mdi:home-account
      - entity: sensor.commute_kareen_work_a
        name: Newport
        icon: mdi:cash-usd
      - entity: sensor.commute_kareen_work_b
        name: Tayport
        icon: mdi:cash-usd
      - type: divider
      - proximity.home
      - proximity.cs_tps
      - proximity.newport
      - proximity.tayport
        
  #################################################################
  #                                                               #
  #                      Home - Weather Card                      #
  #                                                               #
  #################################################################

  - type: 'custom:dark-sky-weather-card'
    entity_current_conditions: sensor.dark_sky_icon
    entity_temperature: sensor.dark_sky_temperature
    entity_forecast_high_temp_1: sensor.dark_sky_daytime_high_temperature_1d
    entity_forecast_high_temp_2: sensor.dark_sky_daytime_high_temperature_2d
    entity_forecast_high_temp_3: sensor.dark_sky_daytime_high_temperature_3d
    entity_forecast_high_temp_4: sensor.dark_sky_daytime_high_temperature_4d
    entity_forecast_high_temp_5: sensor.dark_sky_daytime_high_temperature_5d
    entity_forecast_icon_1: sensor.dark_sky_icon_1d
    entity_forecast_icon_2: sensor.dark_sky_icon_2d
    entity_forecast_icon_3: sensor.dark_sky_icon_3d
    entity_forecast_icon_4: sensor.dark_sky_icon_4d
    entity_forecast_icon_5: sensor.dark_sky_icon_5d
    entity_forecast_low_temp_1: sensor.dark_sky_overnight_low_temperature_1d
    entity_forecast_low_temp_2: sensor.dark_sky_overnight_low_temperature_2d
    entity_forecast_low_temp_3: sensor.dark_sky_overnight_low_temperature_3d
    entity_forecast_low_temp_4: sensor.dark_sky_overnight_low_temperature_4d
    entity_forecast_low_temp_5: sensor.dark_sky_overnight_low_temperature_5d
    entity_summary_1: sensor.dark_sky_summary_1d
    entity_summary_2: sensor.dark_sky_summary_2d
    entity_summary_3: sensor.dark_sky_summary_3d
    entity_summary_4: sensor.dark_sky_summary_4d
    entity_summary_5: sensor.dark_sky_summary_5d
    entity_sun: sun.sun
    entity_visibility: sensor.dark_sky_visibility
    entity_daytime_high: sensor.dark_sky_daytime_high_temperature_1d
    entity_wind_bearing: sensor.dark_sky_wind_bearing
    entity_wind_speed: sensor.dark_sky_wind_speed
    entity_humidity: sensor.dark_sky_humidity
    entity_pressure: sensor.dark_sky_pressure
    entity_apparent_temp: sensor.dark_sky_apparent_temperature
    entity_daily_summary: sensor.dark_sky_daily_summary
    entity_pop: sensor.dark_sky_precip_probability
    entity_pop_intensity: sensor.dark_sky_precip_intensity
    entity_pop_1: sensor.dark_sky_precip_probability_1d
    entity_pop_2: sensor.dark_sky_precip_probability_2d
    entity_pop_3: sensor.dark_sky_precip_probability_3d
    entity_pop_4: sensor.dark_sky_precip_probability_4d
    entity_pop_5: sensor.dark_sky_precip_probability_5d

  #################################################################
  #                                                               #
  #                   Home - Temperature Card                     #
  #                                                               #
  #################################################################
        
  - type: vertical-stack
    cards:  
      - type: thermostat
        entity: climate.hallway
    
      - type: custom:mini-graph-card
        entities: 
         - sensor.hallway_thermostat_temperature
        name: Nest
        height: 46
        line_width: 2
        font_size: 65
        hours_to_show: 36
        points_per_hour: 4
        show:
          icon: true
          extrema: true
          icon_adaptive_color: true
        color_thresholds:
          - value: 21
            color: "#e74c3c"
          - value: 15
            color: "#1db954"
          - value: -1
            color: "#3498db"
          - value: -100
            color: "#e74c3c"

        
  - type: vertical-stack
    cards:  
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities: 
             - sensor.ff_study_sensor_temperature
            name: Study
            height: 74
            line_width: 2
            font_size: 65
            hours_to_show: 12
            points_per_hour: 4
            show:
              icon: true
              extrema: true
              icon_adaptive_color: true
            color_thresholds:
              - value: 21
                color: "#e74c3c"
              - value: 15
                color: "#1db954"
              - value: -1
                color: "#3498db"
              - value: -100
                color: "#e74c3c"
            
          - type: custom:mini-graph-card
            entities: 
             - sensor.ff_bedroom_sensor_temperature
            name: Bedroom
            height: 74
            line_width: 2
            font_size: 65
            hours_to_show: 12
            points_per_hour: 4
            show:
              icon: true
              extrema: true
              icon_adaptive_color: true
            color_thresholds:
              - value: 21
                color: "#e74c3c"
              - value: 15
                color: "#1db954"
              - value: -1
                color: "#3498db"
              - value: -100
                color: "#e74c3c"
            
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities: 
             - sensor.gf_dinning_sensor_temperature
            name: Dinning Room
            height: 74
            line_width: 2
            font_size: 65
            hours_to_show: 12
            points_per_hour: 4
            show:
              icon: true
              extrema: true
              icon_adaptive_color: true
            color_thresholds:
              - value: 21
                color: "#e74c3c"
              - value: 15
                color: "#1db954"
              - value: -1
                color: "#3498db"
              - value: -100
                color: "#e74c3c"
            
          - type: custom:mini-graph-card
            entities: 
             - sensor.gf_living_sensor_temperature
            name: Livingroom
            height: 74
            line_width: 2
            font_size: 65
            hours_to_show: 12
            points_per_hour: 4
            show:
              icon: true
              extrema: true
              icon_adaptive_color: true
            color_thresholds:
              - value: 21
                color: "#e74c3c"
              - value: 15
                color: "#1db954"
              - value: -1
                color: "#3498db"
              - value: -100
                color: "#e74c3c"