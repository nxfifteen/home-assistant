---
alias: Restart Studio IP Camera - By Socket

trigger:
- platform: state
  entity_id: switch.gf_studio_camera
  from:  'on'
  to:  'off'
  for:
    minutes: 5
  
action:
  - service: switch.turn_on
    data:
      entity_id: switch.gf_studio_camera
      
  - service: script.notify_join
    data_template:
      who: "stuart"
      title: 'Studio Camera'
      notification_id: "hass-cam-studio"
      icon: !secret http_icon_cctv
      smallicon: !secret http_smallicon_cctv
      image: !secret http_image_cctv
      value1: "The Studio Camera got turned off? I've turned it on again"